<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>PDF maker</title>

    <link rel="stylesheet prefetch" href="./css/semantic.min.css">
    <link rel="stylesheet" href="./css/media.css">
    <link rel="stylesheet" href="./css/site.css">

</head>

<body style="padding-top:50px">
    <div class="container" style="width:600px">
        <div class="ui segment top attached inverted">
            <div class="ui secondary pointing menu inverted">
                <div class="item active inverted">
                    Absolute
                </div>
                <div class="item inverted">
                    Relative
                </div>
                <div class="item inverted">
                    Go To Date
                </div>
            </div>
        </div>
        <div class="ui segment attached">
            <div class="ui two column divided centered grid relaxed gutters">
                <div class="row">
                    <div class="column">
                        <div class="ui seven column grid horizontally padded from-calendar">
                            <div class="row">
                                <div class=" two wide column">
                                    <div style="text-align:center">
                                        <i class="angle left icon"></i>
                                    </div>
                                </div>
                                <div class=" twelve wide column">
                                    <div style="text-align:center">
                                        <div class="ui inline scrolling dropdown from-month">
                                            <div class="text">
                                                <!-- Month placeholder to be filled by javascript -->
                                            </div>
                                            <div class="menu">
                                                <div class="item" data-value="1">January</div>
                                                <div class="item" data-value="2">February</div>
                                                <div class="item" data-value="3">March</div>
                                                <div class="item" data-value="4">April</div>
                                                <div class="item" data-value="5">May</div>
                                                <div class="item" data-value="6">June</div>
                                                <div class="item" data-value="7">July</div>
                                                <div class="item" data-value="8">August</div>
                                                <div class="item" data-value="9">September</div>
                                                <div class="item" data-value="10">October</div>
                                                <div class="item" data-value="11">November</div>
                                                <div class="item" data-value="12">December</div>
                                            </div>
                                        </div>
                                        <div class="ui inline dropdown from-year">
                                            <div class="text">
                                                <!-- Year placeholder to be filled by javascript -->
                                            </div>
                                            <div class="menu">
                                                <div class="item" data-value="2018">2018</div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class=" two wide column">
                                    <div style="text-align:center">
                                        <i class="angle right icon"></i>
                                    </div>

                                </div>
                            </div>
                            <div class="row label ui" style="padding-right: 20px;">
                                <div class="ui column">
                                    <a class="ui green label">S</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">M</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">T</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">W</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">T</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">F</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">S</a>
                                </div>
                            </div>
                            <div class="row from-dates" style="padding-right: 20px;">
                                <!-- Dates placeholder to be filled by javascript -->
                            </div>

                            <div class="row">
                                <div class="ui form error">
                                    <div class="inline fields">
                                        <div class="ui input eight wide field from-date-input-field-container">
                                            <input type="text" class="from-date-input-field" placeholder="dd/mm/yyyy">

                                        </div>
                                        <div class="ui input eight wide field ">
                                            <input type="text" placeholder="00:00:00" disabled="">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="column">
                        <div class="ui seven column grid horizontally padded to-calndar">
                            <div class="row">
                                <div class=" two wide column">
                                    <div style="text-align:center">
                                        <i class="angle left icon"></i>
                                    </div>

                                </div>
                                <div class="twelve wide column">
                                    <div style="text-align:center">
                                        <div class="ui inline scrolling dropdown to-month">
                                            <div class="text">
                                                <!-- Month placeholder to be filled by javascript -->
                                            </div>
                                            <div class="menu">
                                                <div class="item" data-value="1">January</div>
                                                <div class="item" data-value="2">February</div>
                                                <div class="item" data-value="3">March</div>
                                                <div class="item" data-value="4">April</div>
                                                <div class="item" data-value="5">May</div>
                                                <div class="item" data-value="6">June</div>
                                                <div class="item" data-value="7">July</div>
                                                <div class="item" data-value="8">August</div>
                                                <div class="item" data-value="9">September</div>
                                                <div class="item" data-value="10">October</div>
                                                <div class="item" data-value="11">November</div>
                                                <div class="item" data-value="12">December</div>
                                            </div>
                                        </div>
                                        <div class="ui inline dropdown to-year">
                                            <div class="text">
                                                <!-- Year placeholder to be filled by javascript -->
                                            </div>
                                            <div class="menu">
                                                <div class="item" data-value="2018">2018</div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class=" two wide column">
                                    <div style="text-align:center">
                                        <i class="angle right icon"></i>
                                    </div>

                                </div>
                            </div>
                            <div class="row label ui" style="padding-right: 20px;">
                                <div class="ui column">
                                    <a class="ui green label">S</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">M</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">T</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">W</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">T</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">F</a>
                                </div>
                                <div class="column">
                                    <a class="ui green label">S</a>
                                </div>
                            </div>
                            <div class="row to-dates" style="padding-right: 20px;">
                                <!-- Dates placeholder to be filled by javascript -->
                            </div>
                            <div class="row">
                                <div class="ui form error">
                                    <div class="inline fields">
                                        <div class="ui input eight wide field to-date-input-field-container">
                                            <input type="text" class="to-date-input-field" placeholder="dd/mm/yyyy" data-inputmask="'alias': 'date'">

                                        </div>
                                        <div class="ui input eight wide field ">
                                            <input type="text" placeholder="00:00:00" disabled="">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
        <div class="ui segment bottom attached">
            data
        </div>
    </div>
</body>

</html>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<script src="./js/jquery.inputmask.bundle.min.js"></script>
<script src="./js/semantic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js" integrity="sha384-THVO/sM0mFD9h7dfSndI6TS0PgAGavwKvB5hAxRRvc0o9cPLohB0wb/PTA7LdUHs"
    crossorigin="anonymous">

    </script>

<script>
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thrusday", "Friday", "Saturday"];

    $(document).ready(function () {
        var today = new Date();
        var year = today.getFullYear();
        var lastMonth = today.getMonth();
        generateCalendar("to-dates", "to-date", new Date());
        var lastMonthFirstDate = new Date(parseInt(lastMonth) + ' 1 ,' + year);
        generateCalendar("from-dates", "from-date", lastMonthFirstDate);
        initCalendarDropDown("from-month", "from-year", lastMonthFirstDate);
        initCalendarDropDown("to-month", "to-year", new Date());
        attachEventListeners(".from-date");
        attachEventListeners(".to-date");

        $('.ui.dropdown.from-month').dropdown({
            onChange: function (value, text, $selectedItem) {
                var monthValue = value;
            //    console.log(monthValue);
                var year = $('.ui.dropdown.from-year').dropdown("get value");
                var firstDateOfMonth = new Date(monthValue + ' 1 ,' + year);
                generateCalendar("from-dates", "from-date", firstDateOfMonth);
                attachEventListeners(".from-date");

                //alert($('.ui.dropdown.from-month').dropdown("get value"));
                if ($('.ui.dropdown.to-month').dropdown("get value") - 1 != monthValue) {
                    $('.ui.dropdown.to-month').dropdown("set text", monthNames[monthValue]);
                    $('.ui.dropdown.to-month').dropdown("set value", parseInt(monthValue) + 1);
                }
                //both the dates are already selected just attach the mouseenter handler
                if ($(".from-date-input-field").val() == "" && $(".to-date-input-field").val() != "") {
                    var dateAttributes = $(".to-date-input-field").val().split('/');
                    var date_1 = new Date(parseInt(dateAttributes[2]), parseInt(dateAttributes[1]), parseInt(dateAttributes[0]));
                    var returnValue = {};
                    returnValue["date_1"] = { "date": date_1, "class": ".to-date", "containerClass": ".to-dates" };

                    $('.from-date').on("mouseenter", returnValue, mouseenter);
                    $('.to-date').on("mouseenter", returnValue, mouseenter);
                }
                if ($(".from-date-input-field").val() != "" && $(".to-date-input-field").val() == "") {
                    var dateAttributes = $(".from-date-input-field").val().split('/');
                    var date_1 = new Date(parseInt(dateAttributes[2]), parseInt(dateAttributes[1]), parseInt(dateAttributes[0]));
                    var returnValue = {};
                    returnValue["date_1"] = { "date": date_1, "class": ".from-date", "containerClass": ".from-dates" };

                    $('.from-date').on("mouseenter", returnValue, mouseenter);
                    $('.to-date').on("mouseenter", returnValue, mouseenter);
                }
            }
        });

        $('.ui.dropdown.to-month').dropdown({
            onChange: function (value, text, $selectedItem) {
                var monthValue = value;
                var year = $('.ui.dropdown.to-year').dropdown("get value");
                var firstDateOfMonth = new Date(monthValue + ' 1 ,' + year);
                generateCalendar("to-dates", "to-date", firstDateOfMonth);
                attachEventListeners(".to-date");
                if ($('.ui.dropdown.from-month').dropdown("get value") + 1 != monthValue) {
                    $('.ui.dropdown.from-month').dropdown("set text", monthNames[monthValue - 2]);
                    $('.ui.dropdown.from-month').dropdown("set value", monthValue - 1);
                }

                //both the dates are already selected just attach the mouseenter handler
                if ($(".from-date-input-field").val() == "" && $(".to-date-input-field").val() != "") {
                    var dateAttributes = $(".to-date-input-field").val().split('/');
                    var date_1 = new Date(parseInt(dateAttributes[2]), parseInt(dateAttributes[1]), parseInt(dateAttributes[0]));
                    var returnValue = {};
                    returnValue["date_1"] = { "date": date_1, "class": ".to-date", "containerClass": ".to-dates" };

                    $('.from-date').on("mouseenter", returnValue, mouseenter);
                    $('.to-date').on("mouseenter", returnValue, mouseenter);
                }
                if ($(".from-date-input-field").val() != "" && $(".to-date-input-field").val() == "") {
                    var dateAttributes = $(".from-date-input-field").val().split('/');
                    var date_1 = new Date(parseInt(dateAttributes[2]), parseInt(dateAttributes[1]), parseInt(dateAttributes[0]));
                    var returnValue = {};
                    returnValue["date_1"] = { "date": date_1, "class": ".from-date", "containerClass": ".from-dates" };

                    $('.from-date').on("mouseenter", returnValue, mouseenter);
                    $('.to-date').on("mouseenter", returnValue, mouseenter);
                }
            }
        });

        $('.ui.dropdown.to-year').dropdown({
            onChange: function (value, text, $selectedItem) {
            }
        });

        $('.ui.dropdown.from-year').dropdown({
            onChange: function (value, text, $selectedItem) {
            }
        });

        $(".from-date-input-field").inputmask("date", {
            "clearIncomplete": true,
            "oncomplete": function (data) {

                var dateAttributes = $(".from-date-input-field").val().split('/');
                if (parseInt(dateAttributes[2]) != 2018) {
                    $(".from-date-input-field-container").addClass("error").attr("data-tooltip", "Select a date from calendar year 2018").attr("data-position", "right center").append(createErrorLabel());
                } else {
                    $(".from-date-input-field-container").removeClass("error").removeAttr("data-tooltip").removeAttr("data-position").find(".error,.label").remove();
                    dateAttributes[1];
                    var date = new Date(parseInt(dateAttributes[1]) + ' 1 ,' + dateAttributes[2]);

                    initCalendarDropDown("from-month", "from-year", date);
                }
            }
        });

        $(".to-date-input-field").inputmask("date", {
            "clearIncomplete": true,
            "oncomplete": function (data) {

                var dateAttributes = $(".to-date-input-field").val().split('/');
                if (parseInt(dateAttributes[2]) != 2018) {
                    $(".to-date-input-field-container").addClass("error").attr("data-tooltip", "Select a date from calendar year 2018").attr("data-position", "right center").append(createErrorLabel());
                } else {
                    $(".to-date-input-field-container").removeClass("error").removeAttr("data-tooltip").removeAttr("data-position").last().find(".error,.label").remove();
                    dateAttributes[1];
                    var date = new Date(parseInt(dateAttributes[1]) + ' 1 ,' + dateAttributes[2]);
                    initCalendarDropDown("to-month", "to-year", date);
                }
            }
        });
    });

    function attachEventListeners(calendarClass) {
        $(calendarClass).on("click", function (event) {
            //If both the text fields are populated that means it a third click so need to clear everything 
            if ($(".to-date-input-field").val() != "" && $(".from-date-input-field").val() != "") {
                $(".to-date-input-field").val("");
                $(".from-date-input-field").val("");
                $(".from-dates").find(".from-date.blue.selected").removeClass("blue selected").addClass("black");
                $(".to-dates").find(".to-date.selected.blue").removeClass("blue selected").addClass("black");
            }
            result = onClick(event);
            selected_date = $(event.target).removeClass("black").addClass("blue selected");
         //   console.log(result);
            if (result != undefined) {
                if (result["date_1"].date != undefined && result["date_2"].date == undefined) {
                    var date_1 = result["date_1"].date;
                    $('.to-date').on("mouseenter", result, mouseenter);
                    $('.from-date').on("mouseenter", result, mouseenter);

                    $(".from-dates").find(".from-date").each(function (index, item) {
                        if (!$(item).hasClass("selected")) {
                            $(item).removeClass("gray").addClass("black");
                        }
                    });
                    $(".to-dates").find(".to-date").each(function (index, item) {
                        if (!$(item).hasClass("selected")) {
                            $(item).removeClass("gray").addClass("black");
                        }
                    });
                    //set the date text field
                    if (result["date_1"].class == ".to-date") {
                        $(".to-date-input-field").val(date_1.getDate() + "/" + parseInt(date_1.getMonth() + 1) + "/" + date_1.getFullYear());
                        $(".from-date-input-field").val("");
                    } else {
                        $(".from-date-input-field").val(date_1.getDate() + "/" + parseInt(date_1.getMonth() + 1) + "/" + date_1.getFullYear());
                        $(".to-date-input-field").val("");
                    }
                } else {
                    //this is when both fromDate and toDate are selected after secound click
                    $('.to-date').unbind("mouseenter");
                    $('.from-date').unbind("mouseenter");

                    date_1 = result["date_1"].date;
                    date_2 = result["date_2"].date;
           //         console.log(date_1.getMonth());
           //         console.log(date_2.getMonth());

                    if (date_1 > date_2) {
                        $(".from-date-input-field").val(date_2.getDate() + "/" + parseInt(date_2.getMonth() + 1) + "/" + date_2.getFullYear());
                        $(".to-date-input-field").val(date_1.getDate() + "/" + parseInt(date_1.getMonth() + 1) + "/" + date_1.getFullYear());
                    } else {
                        $(".from-date-input-field").val(date_1.getDate() + "/" + parseInt(date_1.getMonth() + 1) + "/" + date_1.getFullYear());
                        $(".to-date-input-field").val(date_2.getDate() + "/" + parseInt(date_2.getMonth() + 1) + "/" + date_2.getFullYear());
                    }
                }
            }
        });
    }

    function onClick(event) {
        var selected_from_date = new Array();
        var selected_to_date = new Array();
        var date_1;
        var date_2;
        var date_1_class;
        var date_2_class;
        var date_1_container_class;
        var date_2_container_class;
        var from_month = $('.ui.dropdown.from-month').dropdown("get value");
        var from_year = $('.ui.dropdown.from-year').dropdown("get value");
        var to_month = $('.ui.dropdown.to-month').dropdown("get value");
        var to_year = $('.ui.dropdown.to-year').dropdown("get value");
        $(".from-dates").find(".from-date.blue.selected").each(function (index, item) {
            selected_from_date.push($(item).attr("value"));
        });

        if (selected_from_date.length == 0 && $(".from-date-input-field").val() != "") {
            var dateAttributes = $(".from-date-input-field").val().split('/');
            selected_from_date.push(dateAttributes[0]);
            from_month = dateAttributes[1];
            from_year = dateAttributes[2];
        }

        $(".to-dates").find(".to-date.blue.selected").each(function (index, item) {
            selected_to_date.push($(item).attr("value"));
        });

        if (selected_to_date.length == 0 && $(".to-date-input-field").val() != "") {
            var dateAttributes = $(".to-date-input-field").val().split('/');
            selected_to_date.push(dateAttributes[0]);
            to_month = dateAttributes[1];
            to_year = dateAttributes[2];
        }

        if ($(event.target).hasClass("from-date") && selected_from_date[0] != undefined && $(event.target).attr("value") == selected_from_date[0]) {
            console.log("doing nothing");
            return;
        }
        if ($(event.target).hasClass("to-date") && selected_to_date[0] != undefined && $(event.target).attr("value") == selected_to_date[0]) {
            console.log("doing nothing");
            return;
        }
        if (selected_from_date.length == 0 && selected_to_date.length == 0) {
            console.log("first click");

        } else if ((selected_from_date.length <= 1 && selected_to_date.length == 0) || (selected_from_date.length == 0 && selected_to_date.length <= 1)) {
            console.log("secound click");

            if (selected_from_date.length == 1) {
                date = parseInt(selected_from_date[0]);
                date_1 = new Date(parseInt(from_year), parseInt(from_month) - 1, date);
                date_1_class = ".from-date";
                date_1_container_class = ".from-dates";
            } else {
                date = parseInt(selected_to_date[0]);
                date_1 = new Date(parseInt(to_year), parseInt(to_month) - 1, date);
                date_1_class = ".to-date";
                date_1_container_class = ".to-dates";
            }
        }
        selected_date = $(event.target)

        if (date_1 != undefined) {
            if ($(selected_date).hasClass("to-date")) {
                date = parseInt($(selected_date).attr("value"));
                date_2 = new Date(parseInt(to_year), parseInt(to_month) - 1, date);
                date_2_class = ".to-date";
                date_2_container_class = ".to-dates";
            } else {
                date = parseInt($(selected_date).attr("value"));
                date_2 = new Date(parseInt(from_year), parseInt(from_month) - 1, date);
                date_2_class = ".from-date";
                date_2_container_class = ".from-dates";
            }
        } else {
            if ($(selected_date).hasClass("to-date")) {
                date = parseInt($(selected_date).attr("value"));
                date_1 = new Date(parseInt(to_year), parseInt(to_month) - 1, date);
                date_1_class = ".to-date";
                date_1_container_class = ".to-dates";
            } else {
                date = parseInt($(selected_date).attr("value"));
                date_1 = new Date(parseInt(from_year), parseInt(from_month) - 1, date);
                date_1_class = ".from-date";
                date_1_container_class = ".from-dates";
            }
        }

        var returnValue = {};
        returnValue["date_1"] = { "date": date_1, "class": date_1_class, "containerClass": date_1_container_class };
        returnValue["date_2"] = { "date": date_2, "class": date_2_class, "containerClass": date_2_container_class };

        return returnValue;
    }


function mouseenter(event) {
        var selected_date = event.data.date_1.date;
        var selected_date_class = event.data.date_1.class;
        var selected_date_container_class = event.data.date_1.containerClass;
        var selected_date_value = selected_date.getDate();
        var hover_on_date_value = parseInt($(this).attr("value"));
        var hover_on_date;
        var hover_on_date_class;
        var hover_on_date_container_class;
        if ($(this).hasClass("to-date")) {
            month = $('.ui.dropdown.to-month').dropdown("get value");
            year = $('.ui.dropdown.to-year').dropdown("get value");
            hover_on_date = new Date(parseInt(year), parseInt(month) - 1, hover_on_date_value);
            hover_on_date_class = ".to-date";
            hover_on_date_container_class = ".to-dates";
        } else {
            month = $('.ui.dropdown.from-month').dropdown("get value");
            year = $('.ui.dropdown.from-year').dropdown("get value");
            hover_on_date = new Date(parseInt(year), parseInt(month) - 1, hover_on_date_value);
            hover_on_date_class = ".from-date";
            hover_on_date_container_class = ".from-dates";
        }
        console.log("selected date ==>"+selected_date);
        console.log("hover on date ==>"+hover_on_date);
        var start_value;
        var end_value;
        if (selected_date > hover_on_date) {
            start_value = hover_on_date.getDate();
            end_value = selected_date.getDate();

        } else {
            start_value = selected_date.getDate();
            end_value = hover_on_date.getDate();
        }

        if (selected_date_class == hover_on_date_class) {
            for (var counter = start_value; counter <= end_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }

            for (var counter = 1; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                if (counter < start_value || counter > end_value) {
                    $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
                }
            }
            if (selected_date_class == ".to-date") {
                $(".from-dates").find(".from-date").each(function (index, item) {
                    $(item).addClass("black").removeClass("gray");
                });
            } else {
                $(".to-dates").find(".to-date").each(function (index, item) {
                    $(item).addClass("black").removeClass("gray");
                });
            }
        } else if (selected_date_class == ".to-date") {
            for (var counter = hover_on_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = 1; counter < hover_on_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
            }
            for (var counter = 1; counter < selected_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = selected_date_value + 1; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").removeClass("gray").addClass("black");
            }

        } else if (selected_date_class = ".from-date") {
            for (var counter = selected_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = 1; counter < hover_on_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = hover_on_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
            }
            for (var counter = 1; counter < selected_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").removeClass("gray").addClass("black");
            }
        }

    }
    function mouseenter1(event) {
        var selected_date = event.data.date_1.date;
        var selected_date_class = event.data.date_1.class;
        var selected_date_container_class = event.data.date_1.containerClass;
        var selected_date_value = selected_date.getDate();
        var hover_on_date_value = parseInt($(this).attr("value"));
      //  console.log("selected_Date ==>" + selected_date + " , selected_Date_class ==>" + selected_date_class);

        var hover_on_date;
        var hover_on_date_class;
        var hover_on_date_container_class;
        if ($(this).hasClass("to-date")) {
            month = $('.ui.dropdown.to-month').dropdown("get value");
            year = $('.ui.dropdown.to-year').dropdown("get value");
            hover_on_date = new Date(parseInt(year), parseInt(month) - 1, hover_on_date_value);
            hover_on_date_class = ".to-date";
            hover_on_date_container_class = ".to-dates";
        } else {
            month = $('.ui.dropdown.from-month').dropdown("get value");
            year = $('.ui.dropdown.from-year').dropdown("get value");
            hover_on_date = new Date(parseInt(year), parseInt(month) - 1, hover_on_date_value);
            hover_on_date_class = ".from-date";
            hover_on_date_container_class = ".from-dates";
        }
        //   console.log(hover_on_date);
        var start_value;
        var end_value;
        if (selected_date > hover_on_date) {
            start_value = hover_on_date.getDate();
            end_value = selected_date.getDate();

        } else {
            start_value = selected_date.getDate();
            end_value = hover_on_date.getDate();
        }

        if (selected_date_class == hover_on_date_class) {
            for (var counter = start_value; counter <= end_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }

            for (var counter = 1; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                if (counter < start_value || counter > end_value) {
                    $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
                }
            }
            if (selected_date_class == ".to-date") {
                $(".from-dates").find(".from-date").each(function (index, item) {
                    $(item).addClass("black").removeClass("gray");
                });
            } else {
                $(".to-dates").find(".to-date").each(function (index, item) {
                    $(item).addClass("black").removeClass("gray");
                });
            }
        } else if (selected_date_class == ".to-date") {
            for (var counter = hover_on_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = 1; counter < hover_on_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
            }
            for (var counter = 1; counter < selected_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = selected_date_value + 1; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").removeClass("gray").addClass("black");
            }

        } else if (selected_date_class = ".from-date") {
            for (var counter = selected_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = 1; counter < hover_on_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("gray").removeClass("black");
            }
            for (var counter = hover_on_date_value; counter <= 31; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(hover_on_date_container_class).find(hover_on_date_class + "[value='" + item_value + "']").addClass("black").removeClass("gray");
            }
            for (var counter = 1; counter < selected_date_value; counter++) {
                var item_value = counter < 10 ? '0' + counter : counter;
                $(selected_date_container_class).find(selected_date_class + "[value='" + item_value + "']").removeClass("gray").addClass("black");
            }
        }

    }

    function createDateElement(date, className) {

        var p = $("<div>");
        p.addClass("column");
        if (date != undefined) {
            var a = $("<a>");
            a.addClass("ui black label mini " + className);
            a.attr("value", date);
            a.text(date);
            p.append(a)
        }

        return p;
    }

    function createErrorLabel() {
        var errorIconDiv = $("<div>");
        errorIconDiv.addClass("ui icon left corner mini red error label");
        var errorIcon = $("<i>");
        errorIcon.addClass("ui ban icon");
        errorIconDiv.append(errorIcon);
        return errorIconDiv;
    }

    function initCalendarDropDown(monthDropdownClass, yearDropDownClass, date) {
        $('.ui.dropdown.' + monthDropdownClass).dropdown("set text", monthNames[date.getMonth()]);
        $('.ui.dropdown.' + monthDropdownClass).dropdown("set value", date.getMonth() + 1);
        $('.ui.dropdown.' + yearDropDownClass).dropdown("set text", date.getFullYear());
        $('.ui.dropdown.' + yearDropDownClass).dropdown("set value", date.getFullYear());
    }

    function generateCalendar(calendarContainerClass, calendarDateItemClass, dateNow) {
        $("." + calendarContainerClass).find("." + calendarDateItemClass).remove();
        //   $(".to-dates").find(".to-date").remove();
        //console.log("Input Date :" + dateNow);
        var FebNumberOfDays = "";

        var day = dateNow.getDate();
        var year = dateNow.getFullYear();
        var month = dateNow.getMonth();
      //  console.log("Current Date :" + month + "," + day + "," + year);

        var inputDateFirstDate = new Date(parseInt(month + 1) + ' 1 ,' + year);
      //  console.log("inputDateFirstDate :" + inputDateFirstDate);

        var inputDateMonthFirstDay = inputDateFirstDate.getDay();
    //    console.log("inputDateMonthFirstDay :" + inputDateFirstDate.getDay());

        var prevMonth = month - 1;

        //Determing if February (28,or 29)  
        if (month == 1) {
            if ((year % 100 != 0) && (year % 4 == 0) || (year % 400 == 0)) {
                FebNumberOfDays = 29;
            } else {
                FebNumberOfDays = 28;
            }
        }

     //   console.log("February Days :" + FebNumberOfDays)

        var dayPerMonth = ["31", "" + FebNumberOfDays + "", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31"]
        var thisMonthsTotalDays = dayPerMonth[month];

        thisMonthCalendarDates = getCalendarDates(thisMonthsTotalDays, inputDateMonthFirstDay);
     //   console.log(thisMonthCalendarDates);

        renderDates(calendarContainerClass, calendarDateItemClass, thisMonthCalendarDates);
    }

    function createArray(length) {
        var arr = new Array(length || 0),
            i = length;

        if (arguments.length > 1) {
            var args = Array.prototype.slice.call(arguments, 1);
            while (i--) arr[length - 1 - i] = createArray.apply(this, args);
        }

        return arr;
    }

    function getCalendarDates(totalDays, firstDay) {
        var calendarDates = createArray(6, 7);
        var dateCounter = 1;
        for (var weekCount = 0; weekCount < 6; weekCount++) {
            if (weekCount == 0) {
                for (var dayCount = 0; dayCount < 7; dayCount++) {
                    if (dayCount >= firstDay) {
                        calendarDates[weekCount][dayCount] = dateCounter;
                        dateCounter++;
                    }
                }
            } else {
                for (var dayCount = 0; dayCount < 7 && dateCounter <= totalDays; dayCount++) {
                    calendarDates[weekCount][dayCount] = dateCounter;
                    dateCounter++;
                }
            }
        }
        return calendarDates;
    }

    function renderDates(containerClass, itemClass, firstCalendarDates) {
        for (var weekCounter = 0; weekCounter < firstCalendarDates.length; weekCounter++) {
            for (var dateCounter = 0; dateCounter < firstCalendarDates[weekCounter].length; dateCounter++) {
                var date = firstCalendarDates[weekCounter][dateCounter];

                if (date != undefined) {
                    if (parseInt(date) < 10) {
                        date = "0" + date;
                    }
                }
                $("." + containerClass).append(createDateElement(date, itemClass));
            }
        }
    }

</script>